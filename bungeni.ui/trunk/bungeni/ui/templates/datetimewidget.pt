<div xmlns:tal="http://xml.zope.org/namespaces/tal">
   <script type="text/javascript" src="dhtmlgoodies_calendar/dhtmlgoodies_calendar.js"
           tal:attributes="src context/++resource++dhtmlgoodies_calendar.js"></script>
   <link type="text/css" rel="stylesheet" href="dhtmlgoodies_calendar/dhtmlgoodies_calendar.css" media="screen"
         tal:attributes="href context/++resource++dhtmlgoodies_calendar.css" />         
    <span tal:define="form_value view/_getFormValue">        
        <select name="year" tal:attributes="name view/_year_name" >
          <option value ="" tal:condition="not:view/required"> -- </option>
          <tal:loop tal:repeat="year view/_years">   
            <tal:option tal:define="curr python:int(year)==int(form_value[2])">                
                <option value="1999" tal:condition="not:curr" tal:attributes="value year" tal:content="year">1999</option>
                <option value="1999" selected="selected" tal:condition="curr" tal:attributes="value year" tal:content="year">2000</option>
            </tal:option>
          </tal:loop>
        </select>
        <select name="month" tal:attributes="name view/_month_name" >
          <option value ="" tal:condition="not:view/required"> -- </option>
          <tal:loop tal:repeat="month view/_months">
            <tal:option tal:define="curr python:int(month['num'])==int(form_value[1])">                  
                <option value="01" tal:condition="not:curr" tal:attributes="value month/num" tal:content="month/name">January</option>  
                <option value="02" selected="selected" tal:condition="curr" tal:attributes="value month/num" tal:content="month/name">Febuary</option>
            </tal:option>
          </tal:loop>
        </select>
        <select name="day" tal:attributes="name view/_day_name">
          <option value ="" tal:condition="not:view/required"> -- </option>
          <tal:loop tal:repeat="day view/_days">   
            <tal:option tal:define="curr python:int(day)==int(form_value[0])">         
                <option value="01" tal:condition="not:curr" tal:attributes="value day" tal:content="day">01</option>
                <option value="02" selected="selected" tal:condition="curr" tal:attributes="value day" tal:content="day">02</option>
            </tal:option>
          </tal:loop>
        </select>  -
        <select name="hour" tal:attributes="name view/_hour_name">
          <option value ="" tal:condition="not:view/required"> -- </option>
          <tal:loop tal:repeat="hour view/_hours">   
            <tal:option tal:define="curr python:int(hour)==int(form_value[3])">         
                <option value="01" tal:condition="not:curr" tal:attributes="value hour" tal:content="hour">01</option>
                <option value="02" selected="selected" tal:condition="curr" tal:attributes="value hour" tal:content="hour">02</option>
            </tal:option>
          </tal:loop>
        </select> :   
        <select name="minute" tal:attributes="name view/_minute_name">
          <option value ="" tal:condition="not:view/required"> -- </option>
          <tal:loop tal:repeat="minute view/_minutes">   
            <tal:option tal:define="curr python:int(minute)==int(form_value[4])">         
                <option value="01" tal:condition="not:curr" tal:attributes="value minute" tal:content="minute">01</option>
                <option value="02" selected="selected" tal:condition="curr" tal:attributes="value minute" tal:content="minute">02</option>
            </tal:option>
          </tal:loop>
        </select>    
        <input type="button" 
               value="Cal" 
               onclick="displayCalendarSelectBox(document.forms[0].year,document.forms[0].month,document.forms[0].day,false,false,this)"
               tal:attributes="onclick
               string:displayCalendarSelectBox(document.forms[0].${view/_year_name},
                                               document.forms[0].${view/_month_name},
                                               document.forms[0].${view/_day_name},
                                               document.forms[0].${view/_hour_name},
                                               document.forms[0].${view/_minute_name},
                                               this)">
    </span>
</div>

