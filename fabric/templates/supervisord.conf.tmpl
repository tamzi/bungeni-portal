# user_bungeni = bungnei buildout folder
# app_host = host name/ ip
# user_plone = plone buildout folder
# user_portal = portal buildout folder

[inet_http_server]
port = %(supervisor_host)s:%(supervisor_port)s
username = admin
password = admin

[supervisord]
logfile = %(user_config)s/supervisord.log
logfile_maxbytes = 50MB
logfile_backups = 10
loglevel = info
pidfile = %(user_config)s/supervisord.pid
nodaemon = false

[supervisorctl]
serverurl = http://%(supervisor_host)s:8888
username = admin
password = admin

[rpcinterface:supervisor]
supervisor.rpcinterface_factory=supervisor.rpcinterface:make_main_rpcinterface


[program:bungeni]
command = %(user_bungeni)s/bin/paster serve %(user_bungeni)s/deploy.ini --log-file=%(user_bungeni)s/bungeni.log --pid-file=%(user_bungeni)s/bungeni.pid
process_name = bungeni
directory = %(user_bungeni)s/bin
priority = 10
redirect_stderr = true

[program:plone]
command = %(user_plone)s/bin/paster serve %(user_plone)s/etc/deploy.ini --log-file=%(user_plone)s/plone.log --pid-file=%(user_plone)s/plone.pid
process_name = plone
directory = %(user_plone)s/bin
priority = 20
redirect_stderr = true

[program:portal]
command = %(user_portal)s/bin/paster serve %(user_portal)s/deploy.ini --log-file=%(user_portal)s/portal.log --pid-file=%(user_portal)s/portal.pid
process_name = portal
directory = %(user_portal)s/bin
priority = 30
redirect_stderr = true

[program:postgres]
command = %(user_bungeni)s/parts/postgresql/bin/postmaster -D %(user_bungeni)s/parts/db
stdout_logfile = %(user_bungeni)s/logs/postgres.log
priority = 40
redirect_stderr = true
stopsignal = INT


[program:openoffice]
command = soffice -accept='socket,port=2002;urp;' -nologo -nofirststartwizard -headless
stdout_logfile= %(user_bungeni)s/openoffice.log
priority = 70
redirect_stderr = true

